<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Premium sustainable Australian homewares. Ethically sourced, beautifully crafted, built to last. Shop our range of bedroom, bathroom, dining, and living essentials.">
  <title>BlueBush | Sustainable Australian Homewares</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>

  <!-- Header (rendered by JS) -->
  <div id="site-header"></div>
  <!-- Cart Drawer (rendered by JS) -->
  <div id="cart-drawer-root"></div>

  <main id="main-content">

    <!-- ===== HERO SECTION ===== -->
    <section class="hero" aria-label="Welcome to BlueBush">
      <div class="hero-overlay-1" aria-hidden="true"></div>
      <div class="hero-overlay-2" aria-hidden="true"></div>
      <div class="hero-overlay-dark" aria-hidden="true"></div>

      <div class="container">
        <div class="hero-content fade-in">
          <div class="hero-badge fade-in-delay-1">ðŸŒ¿ Premium Australian Homewares</div>
          <h1 class="hero-title fade-in-delay-2">
            Sustainable Living,<br>
            <span class="accent">Beautifully Simple</span>
          </h1>
          <p class="hero-subtitle fade-in-delay-3">
            Discover premium Australian homewares that honour the earth
            and elevate your everyday moments
          </p>
          <div class="hero-cta fade-in-delay-4">
            <a href="shop.html" class="btn-white">
              Shop Now
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"/></svg>
            </a>
            <a href="our-story.html" class="btn-secondary">Our Story</a>
          </div>
        </div>
      </div>

      <div class="hero-scroll" aria-hidden="true">
        <span>Scroll to explore</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
      </div>
    </section>

    <!-- ===== FEATURES SECTION ===== -->
    <section class="features-section" aria-label="Our commitments">
      <div class="container" style="position:relative">
        <div class="bg-grid-pattern" style="position:absolute;inset:0;opacity:0.05;pointer-events:none" aria-hidden="true"></div>
        <div class="features-grid">

          <div class="feature-card anim fade-in-delay-1">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a23.035 23.035 0 01-8 7.38 23.035 23.035 0 01-8-7.38V4.774c0-.54.384-1.006.917-1.096A48.678 48.678 0 0112 3z"/></svg>
            </div>
            <h3 class="feature-title">100% Sustainable</h3>
            <p class="feature-desc">Ethically sourced materials from Australian suppliers</p>
          </div>

          <div class="feature-card anim fade-in-delay-2">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"/></svg>
            </div>
            <h3 class="feature-title">Free Shipping</h3>
            <p class="feature-desc">On orders over $150 Australia-wide</p>
          </div>

          <div class="feature-card anim fade-in-delay-3">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 01-.982-3.172M9.497 14.25a7.454 7.454 0 00.981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 007.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 002.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 012.916.52 6.003 6.003 0 01-5.395 4.972m0 0a6.726 6.726 0 01-2.749 1.35m0 0a6.772 6.772 0 01-3.044 0"/></svg>
            </div>
            <h3 class="feature-title">Premium Quality</h3>
            <p class="feature-desc">Handcrafted pieces built to last generations</p>
          </div>

          <div class="feature-card anim fade-in-delay-4">
            <div class="feature-icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"/></svg>
            </div>
            <h3 class="feature-title">Carbon Neutral</h3>
            <p class="feature-desc">Every order plants a native Australian tree</p>
          </div>

        </div>
      </div>
    </section>

    <!-- ===== FEATURED PRODUCTS ===== -->
    <section class="products-section" aria-label="Featured products">
      <div class="container">
        <div class="section-header anim">
          <span class="section-badge">FEATURED COLLECTION</span>
          <h2 class="section-title">Curated for Your Home</h2>
          <p class="section-subtitle">Carefully selected essentials that bring sustainable luxury to every room</p>
        </div>

        <div class="products-grid" id="featured-products" aria-live="polite">
          <p style="color:#6b7280;padding:2rem 0">Loading productsâ€¦</p>
        </div>

        <div class="text-center mt-8">
          <a href="shop.html" class="btn-primary">
            View All Products
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"/></svg>
          </a>
        </div>
      </div>
    </section>

    <!-- ===== STORY SECTION ===== -->
    <section class="story-section" aria-label="About BlueBush">
      <div class="container">
        <div class="story-grid">
          <div class="story-img anim from-left" role="presentation" aria-hidden="true">
            <span>Our Story</span>
          </div>

          <div class="story-content anim from-right">
            <span class="section-badge">ABOUT BLUEBUSH</span>
            <h2 class="story-title">
              Australian Grown.<br>Sustainably Made.
            </h2>
            <p class="story-text">
              Born from a love of the Australian landscape and a commitment to sustainable living,
              BlueBush creates homewares that honour our environment whilst elevating everyday moments.
            </p>
            <p class="story-text">
              Every piece is thoughtfully designed, ethically sourced, and built to last â€“
              because quality and sustainability should never be compromised.
            </p>
            <a href="our-story.html" class="btn-primary">
              Read Our Story
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"/></svg>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== NEWSLETTER SECTION ===== -->
    <section class="newsletter-section" aria-label="Newsletter signup">
      <div class="container">
        <div class="newsletter-content anim">
          <h2 class="newsletter-title">Join the BlueBush Community</h2>
          <p class="newsletter-subtitle">
            Subscribe to receive sustainable living tips, new product releases,
            and exclusive offers
          </p>
          <form class="newsletter-form" onsubmit="handleNewsletterSubmit(event)" aria-label="Newsletter signup form">
            <input
              type="email"
              class="newsletter-input"
              placeholder="Your email address"
              aria-label="Email address"
              required
            >
            <button type="submit" class="btn-white">Subscribe</button>
          </form>
          <p class="newsletter-privacy">ðŸ”’ We respect your privacy. Unsubscribe at any time.</p>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer (rendered by JS) -->
  <div id="site-footer"></div>

  <script src="js/main.js"></script>
  <script>
    // ===== FEATURED PRODUCTS =====
    async function loadFeaturedProducts() {
      try {
        const base = getBase();
        const res = await fetch(base + 'data/products.json');
        const products = await res.json();
        const featured = products.slice(0, 4);
        renderProductCards(featured, 'featured-products');
      } catch (e) {
        document.getElementById('featured-products').innerHTML =
          '<p style="color:#6b7280;padding:2rem">Unable to load products.</p>';
      }
    }

    function renderProductCards(products, containerId) {
      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = products.map(p => {
        const stock = p.dynamic_data.stock_level;
        let stockBadge = '';
        if (stock === 0) stockBadge = `<span class="product-stock-badge stock-out">Out of Stock</span>`;
        else if (stock <= 5) stockBadge = `<span class="product-stock-badge stock-very-low">Only ${stock} left</span>`;
        else if (stock <= 15) stockBadge = `<span class="product-stock-badge stock-low">Low Stock</span>`;

        const variants = p.static_data.variants.slice(0, 4);
        const variantBtns = variants.map((v, i) =>
          `<button class="variant-btn${i===0?' active':''}" onclick="selectVariant(this,'${p.id}')" data-variant="${escapeAttr(v)}">${escapeHtml(v)}</button>`
        ).join('');

        return `
          <div class="product-card anim" style="animation-delay:${Math.random()*0.2}s">
            <a href="shop.html#product-${escapeAttr(p.id)}" aria-label="${escapeAttr(p.name)}">
              <div class="product-img">
                <div class="product-img-inner">
                  <div class="product-img-icon" aria-hidden="true">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="none" stroke="#50C878" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"/></svg>
                  </div>
                  <span class="product-img-label">Product Image</span>
                </div>
                ${p.static_data.eco_badge ? `<span class="product-eco-badge">ðŸŒ¿ ${escapeHtml(p.static_data.eco_badge)}</span>` : ''}
                ${stockBadge}
              </div>
              <div class="product-info">
                <p class="product-cat">${escapeHtml(p.category)}</p>
                <h3 class="product-name">${escapeHtml(p.name)}</h3>
                <p class="product-hook">${escapeHtml(p.content_triage.marketing_hook)}</p>
                <div class="product-variants" onclick="event.preventDefault()">${variantBtns}</div>
                <div class="product-footer">
                  <span class="product-price">$${p.dynamic_data.price_aud.toFixed(2)}</span>
                  <span class="product-origin">${escapeHtml(p.static_data.origin.split(',')[0])}</span>
                </div>
              </div>
            </a>
            <button
              class="product-quick-add"
              onclick="addProductToCart('${escapeAttr(p.id)}','${escapeAttr(p.name)}',${p.dynamic_data.price_aud})"
              aria-label="Add ${escapeAttr(p.name)} to cart"
            >
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"/></svg>
            </button>
          </div>`;
      }).join('');

      // Re-trigger scroll animations for new elements
      initScrollAnimations();
    }

    function selectVariant(btn, productId) {
      const card = btn.closest('.product-variants');
      card.querySelectorAll('.variant-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }

    function addProductToCart(id, name, price) {
      const card = document.querySelector(`.product-card [data-id="${id}"]`) ||
                   document.querySelector(`.product-card .product-quick-add[onclick*="${id}"]`)?.closest('.product-card');
      const activeVariant = card?.querySelector('.variant-btn.active')?.dataset.variant || 'Default';
      cart.addItem(id, name, price, activeVariant);
    }

    function escapeHtml(s) { return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
    function escapeAttr(s) { return String(s).replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }

    function handleNewsletterSubmit(e) {
      e.preventDefault();
      const input = e.target.querySelector('input[type=email]');
      if (input) {
        input.value = '';
        input.placeholder = 'âœ“ Thank you for subscribing!';
        input.style.background = 'rgba(80,200,120,0.1)';
        setTimeout(() => {
          input.placeholder = 'Your email address';
          input.style.background = '';
        }, 3000);
      }
    }

    // Load featured products after DOM is ready
    document.addEventListener('DOMContentLoaded', loadFeaturedProducts);
  </script>
</body>
</html>
